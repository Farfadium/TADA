{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","type":"user","message":{"role":"user","content":"L'utilisateur veut savoir comment donner la permission permanente à Claude Code de faire des recherches internet (WebSearch, WebFetch) sans demander de confirmation à chaque fois. Explique les différentes méthodes pour configurer ces permissions (allowed-tools, settings, etc.)."},"uuid":"7f9caa03-0781-49ab-8ef9-0332c0397c7e","timestamp":"2026-01-27T20:12:25.453Z"}
{"parentUuid":"7f9caa03-0781-49ab-8ef9-0332c0397c7e","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01DyScmQSS9RFrPwQfVUinCu","type":"message","role":"assistant","content":[{"type":"text","text":"Je vais consulter la documentation Claude Code pour t'expliquer comment configurer les permissions permanentes pour WebSearch et WebFetch."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":13634,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":13634},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXYVYM7KoPCDsb44qw5m2","type":"assistant","uuid":"482da657-5e8e-46f0-8ebf-992b877ac43a","timestamp":"2026-01-27T20:12:26.694Z"}
{"parentUuid":"482da657-5e8e-46f0-8ebf-992b877ac43a","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01DyScmQSS9RFrPwQfVUinCu","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HAGnAs4nFc3So3A6r9e7zk","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/claude_code_docs_map.md","prompt":"Configuration des permissions pour WebSearch et WebFetch, allowed-tools, settings.json"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":13634,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":13634},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXYVYM7KoPCDsb44qw5m2","type":"assistant","uuid":"97f7f7f3-d8d9-48fb-a5d9-9f89e061fdee","timestamp":"2026-01-27T20:12:27.211Z"}
{"parentUuid":"97f7f7f3-d8d9-48fb-a5d9-9f89e061fdee","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HAGnAs4nFc3So3A6r9e7zk","type":"tool_result","content":"> ## Documentation Index\n> Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt\n> Use this file to discover all available pages before exploring further.\n\n# null\n\n# Claude Code Documentation Map\n\nThis is a comprehensive map of all Claude Code documentation pages with their headings, designed for easy navigation by LLMs.\n\n> **Note:** This file is auto-generated by GitHub Actions. Do not edit manually.\n> Last updated: 2026-01-27 03:32:19 UTC\n\n## Document Structure\n\nThis map uses a hierarchical structure:\n\n* **##** marks documentation groups (e.g., 'Getting started')\n* **###** marks individual documentation pages\n* **Nested bullets** show the heading structure within each page\n* Each page title links to the full documentation\n\n## Getting started\n\n### [overview](https://code.claude.com/docs/en/overview.md)\n\n* Get started in 30 seconds\n* What Claude Code does for you\n* Why developers love Claude Code\n* Use Claude Code everywhere\n* Next steps\n* Additional resources\n\n### [quickstart](https://code.claude.com/docs/en/quickstart.md)\n\n* Before you begin\n* Step 1: Install Claude Code\n* Step 2: Log in to your account\n* Step 3: Start your first session\n* Step 4: Ask your first question\n* Step 5: Make your first code change\n* Step 6: Use Git with Claude Code\n* Step 7: Fix a bug or add a feature\n* Step 8: Test out other common workflows\n* Essential commands\n* Pro tips for beginners\n* What's next?\n* Getting help\n\n### [changelog](https://code.claude.com/docs/en/changelog.md)\n\n* (No headings found)\n\n## Core concepts\n\n### [how-claude-code-works](https://code.claude.com/docs/en/how-claude-code-works.md)\n\n* The agentic loop\n  * Models\n  * Tools\n* What Claude can access\n* Work with sessions\n  * Work across branches\n  * Resume or fork sessions\n  * The context window\n    * When context fills up\n    * Manage context with skills and subagents\n* Stay safe with checkpoints and permissions\n  * Undo changes with checkpoints\n  * Control what Claude can do\n* Work effectively with Claude Code\n  * Ask Claude Code for help\n  * It's a conversation\n    * Interrupt and steer\n  * Be specific upfront\n  * Give Claude something to verify against\n  * Explore before implementing\n  * Delegate, don't dictate\n* What's next\n\n### [features-overview](https://code.claude.com/docs/en/features-overview.md)\n\n* Overview\n* Match features to your goal\n  * Compare similar features\n  * Understand how features layer\n  * Combine features\n* Understand context costs\n  * Context cost by feature\n  * Understand how features load\n* Learn more\n\n### [common-workflows](https://code.claude.com/docs/en/common-workflows.md)\n\n* Understand new codebases\n  * Get a quick codebase overview\n  * Find relevant code\n* Fix bugs efficiently\n* Refactor code\n* Use specialized subagents\n* Use Plan Mode for safe code analysis\n  * When to use Plan Mode\n  * How to use Plan Mode\n  * Example: Planning a complex refactor\n  * Configure Plan Mode as default\n* Work with tests\n* Create pull requests\n* Handle documentation\n* Work with images\n* Reference files and directories\n* Use extended thinking (thinking mode)\n  * Configure thinking mode\n  * How extended thinking token budgets work\n* Resume previous conversations\n  * Name your sessions\n  * Use the session picker\n* Run parallel Claude Code sessions with Git worktrees\n* Use Claude as a unix-style utility\n  * Add Claude to your verification process\n  * Pipe in, pipe out\n  * Control output format\n* Ask Claude about its capabilities\n  * Example questions\n* Next steps\n\n### [best-practices](https://code.claude.com/docs/en/best-practices.md)\n\n* Give Claude a way to verify its work\n* Explore first, then plan, then code\n* Provide specific context in your prompts\n  * Provide rich content\n* Configure your environment\n  * Write an effective CLAUDE.md\n  * Configure permissions\n  * Use CLI tools\n  * Connect MCP servers\n  * Set up hooks\n  * Create skills\n  * Create custom subagents\n  * Install plugins\n* Communicate effectively\n  * Ask codebase questions\n  * Let Claude interview you\n* Manage your session\n  * Course-correct early and often\n  * Manage context aggressively\n  * Use subagents for investigation\n  * Rewind with checkpoints\n  * Resume conversations\n* Automate and scale\n  * Run headless mode\n  * Run multiple Claude sessions\n  * Fan out across files\n  * Safe Autonomous Mode\n* Avoid common failure patterns\n* Develop your intuition\n* Related resources\n\n## Outside of the terminal\n\n### [claude-code-on-the-web](https://code.claude.com/docs/en/claude-code-on-the-web.md)\n\n* What is Claude Code on the web?\n* Who can use Claude Code on the web?\n* Getting started\n* How it works\n* Review changes with diff view\n* Moving tasks between web and terminal\n  * From terminal to web\n    * Tips for background tasks\n  * From web to terminal\n    * Requirements for teleporting\n* Cloud environment\n  * Default image\n    * Checking available tools\n    * Language-specific setups\n    * Databases\n  * Environment configuration\n  * Dependency management\n    * Local vs remote execution\n    * Persisting environment variables\n* Network access and security\n  * Network policy\n    * GitHub proxy\n    * Security proxy\n  * Access levels\n  * Default allowed domains\n    * Anthropic Services\n    * Version Control\n    * Container Registries\n    * Cloud Platforms\n    * Package Managers - JavaScript/Node\n    * Package Managers - Python\n    * Package Managers - Ruby\n    * Package Managers - Rust\n    * Package Managers - Go\n    * Package Managers - JVM\n    * Package Managers - Other Languages\n    * Linux Distributions\n    * Development Tools & Platforms\n    * Cloud Services & Monitoring\n    * Content Delivery & Mirrors\n    * Schema & Configuration\n    * Model Context Protocol\n  * Security best practices for customized network access\n* Security and isolation\n* Pricing and rate limits\n* Limitations\n* Best practices\n* Related resources\n\n### [desktop](https://code.claude.com/docs/en/desktop.md)\n\n* Claude Code on desktop (Preview)\n* Installation\n* Features\n* Review changes with diff view\n  * Comment on specific lines\n* Using Git worktrees\n  * Copying files ignored with `.gitignore`\n  * Launch Claude Code on the web\n* Bundled Claude Code version\n* Environment configuration\n  * Custom environment variables\n* Enterprise configuration\n* Related resources\n\n### [chrome](https://code.claude.com/docs/en/chrome.md)\n\n* What the integration enables\n* Prerequisites\n* How the integration works\n* Set up the integration\n* Try it out\n* Example workflows\n  * Test a local web application\n  * Debug with console logs\n  * Automate form filling\n  * Draft content in Google Docs\n  * Extract data from web pages\n  * Run multi-site workflows\n  * Record a demo GIF\n* Best practices\n* Troubleshooting\n  * Extension not detected\n  * Browser not responding\n  * First-time setup\n* Enable by default\n* See also\n\n### [vs-code](https://code.claude.com/docs/en/vs-code.md)\n\n* Prerequisites\n* Install the extension\n* Get started\n* Use the prompt box\n  * Reference files and folders\n  * Resume past conversations\n  * Resume remote sessions from Claude.ai\n* Customize your workflow\n  * Choose where Claude lives\n  * Run multiple conversations\n  * Switch to terminal mode\n* Manage plugins\n  * Install plugins\n  * Manage marketplaces\n* VS Code commands and shortcuts\n* Configure settings\n  * Extension settings\n* VS Code extension vs. Claude Code CLI\n  * Rewind with checkpoints\n  * Run CLI in VS Code\n  * Switch between extension and CLI\n  * Include terminal output in prompts\n  * Monitor background processes\n  * Connect to external tools with MCP\n* Work with git\n  * Create commits and pull requests\n  * Use git worktrees for parallel tasks\n* Use third-party providers\n* Security and privacy\n* Fix common issues\n  * Extension won't install\n  * Spark icon not visible\n  * Claude Code never responds\n* Uninstall the extension\n* Next steps\n\n### [jetbrains](https://code.claude.com/docs/en/jetbrains.md)\n\n* Supported IDEs\n* Features\n* Installation\n  * Marketplace Installation\n* Usage\n  * From Your IDE\n  * From External Terminals\n* Configuration\n  * Claude Code Settings\n  * Plugin Settings\n    * General Settings\n    * ESC Key Configuration\n* Special Configurations\n  * Remote Development\n  * WSL Configuration\n* Troubleshooting\n  * Plugin Not Working\n  * IDE Not Detected\n  * Command Not Found\n* Security Considerations\n\n### [github-actions](https://code.claude.com/docs/en/github-actions.md)\n\n* Why use Claude Code GitHub Actions?\n* What can Claude do?\n  * Claude Code Action\n* Setup\n* Quick setup\n* Manual setup\n* Upgrading from Beta\n  * Essential changes\n  * Breaking Changes Reference\n  * Before and After Example\n* Example use cases\n  * Basic workflow\n  * Using skills\n  * Custom automation with prompts\n  * Common use cases\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Configuration examples\n* Using with AWS Bedrock & Google Vertex AI\n  * Prerequisites\n    * For Google Cloud Vertex AI:\n    * For AWS Bedrock:\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * CI not running on Claude's commits\n  * Authentication errors\n* Advanced configuration\n  * Action parameters\n    * Pass CLI arguments\n  * Alternative integration methods\n  * Customizing Claude's behavior\n\n### [gitlab-ci-cd](https://code.claude.com/docs/en/gitlab-ci-cd.md)\n\n* Why use Claude Code with GitLab?\n* How it works\n* What can Claude do?\n* Setup\n  * Quick setup\n  * Manual setup (recommended for production)\n* Example use cases\n  * Turn issues into MRs\n  * Get implementation help\n  * Fix bugs quickly\n* Using with AWS Bedrock & Google Vertex AI\n* Configuration examples\n  * Basic .gitlab-ci.yml (Claude API)\n  * AWS Bedrock job example (OIDC)\n  * Google Vertex AI job example (Workload Identity Federation)\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Security and governance\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * Job can't write comments or open MRs\n  * Authentication errors\n* Advanced configuration\n  * Common parameters and variables\n  * Customizing Claude's behavior\n\n### [slack](https://code.claude.com/docs/en/slack.md)\n\n* Use cases\n* Prerequisites\n* Setting up Claude Code in Slack\n* How it works\n  * Automatic detection\n  * Context gathering\n  * Session flow\n* User interface elements\n  * App Home\n  * Message actions\n  * Repository selection\n* Access and permissions\n  * User-level access\n  * Workspace admin permissions\n* What's accessible where\n* Best practices\n  * Writing effective requests\n  * When to use Slack vs. web\n* Troubleshooting\n  * Sessions not starting\n  * Repository not showing\n  * Wrong repository selected\n  * Authentication errors\n  * Session expiration\n* Current limitations\n* Related resources\n\n## Build with Claude Code\n\n### [sub-agents](https://code.claude.com/docs/en/sub-agents.md)\n\n* Built-in subagents\n* Quickstart: create your first subagent\n* Configure subagents\n  * Use the /agents command\n  * Choose the subagent scope\n  * Write subagent files\n    * Supported frontmatter fields\n  * Choose a model\n  * Control subagent capabilities\n    * Available tools\n    * Permission modes\n    * Preload skills into subagents\n    * Conditional rules with hooks\n    * Disable specific subagents\n  * Define hooks for subagents\n    * Hooks in subagent frontmatter\n    * Project-level hooks for subagent events\n* Work with subagents\n  * Understand automatic delegation\n  * Run subagents in foreground or background\n  * Common patterns\n    * Isolate high-volume operations\n    * Run parallel research\n    * Chain subagents\n  * Choose between subagents and main conversation\n  * Manage subagent context\n    * Resume subagents\n    * Auto-compaction\n* Example subagents\n  * Code reviewer\n  * Debugger\n  * Data scientist\n  * Database query validator\n* Next steps\n\n### [plugins](https://code.claude.com/docs/en/plugins.md)\n\n* When to use plugins vs standalone configuration\n* Quickstart\n  * Prerequisites\n  * Create your first plugin\n* Hello Command\n  * Plugin structure overview\n  * Develop more complex plugins\n    * Add Skills to your plugin\n    * Add LSP servers to your plugin\n    * Organize complex plugins\n    * Test your plugins locally\n    * Debug plugin issues\n    * Share your plugins\n  * Convert existing configurations to plugins\n    * Migration steps\n    * What changes when migrating\n  * Next steps\n    * For plugin users\n    * For plugin developers\n\n### [discover-plugins](https://code.claude.com/docs/en/discover-plugins.md)\n\n* How marketplaces work\n* Official Anthropic marketplace\n  * Code intelligence\n    * What Claude gains from code intelligence plugins\n  * External integrations\n  * Development workflows\n  * Output styles\n* Try it: add the demo marketplace\n* Add marketplaces\n  * Add from GitHub\n  * Add from other Git hosts\n  * Add from local paths\n  * Add from remote URLs\n* Install plugins\n* Manage installed plugins\n* Manage marketplaces\n  * Use the interactive interface\n  * Use CLI commands\n  * Configure auto-updates\n* Configure team marketplaces\n* Troubleshooting\n  * /plugin command not recognized\n  * Common issues\n  * Code intelligence issues\n* Next steps\n\n### [skills](https://code.claude.com/docs/en/skills.md)\n\n* Getting started\n  * Create your first skill\n  * Where skills live\n    * Automatic discovery from nested directories\n* Configure skills\n  * Types of skill content\n  * Frontmatter reference\n    * Available string substitutions\n  * Add supporting files\n  * Control who invokes a skill\n  * Restrict tool access\n  * Pass arguments to skills\n* Advanced patterns\n  * Inject dynamic context\n  * Run skills in a subagent\n    * Example: Research skill using Explore agent\n  * Restrict Claude's skill access\n* Share skills\n  * Generate visual output\n* Troubleshooting\n  * Skill not triggering\n  * Skill triggers too often\n  * Claude doesn't see all my skills\n* Related resources\n\n### [output-styles](https://code.claude.com/docs/en/output-styles.md)\n\n* Built-in output styles\n* How output styles work\n* Change your output style\n* Create a custom output style\n  * Frontmatter\n* Comparisons to related features\n  * Output Styles vs. CLAUDE.md vs. --append-system-prompt\n  * Output Styles vs. [Agents](/en/sub-agents)\n  * Output Styles vs. [Skills](/en/skills)\n\n### [hooks-guide](https://code.claude.com/docs/en/hooks-guide.md)\n\n* Hook Events Overview\n* Quickstart\n  * Prerequisites\n  * Step 1: Open hooks configuration\n  * Step 2: Add a matcher\n  * Step 3: Add the hook\n  * Step 4: Save your configuration\n  * Step 5: Verify your hook\n  * Step 6: Test your hook\n* More Examples\n  * Code Formatting Hook\n  * Markdown Formatting Hook\n  * Custom Notification Hook\n  * File Protection Hook\n* Learn more\n\n### [headless](https://code.claude.com/docs/en/headless.md)\n\n* Basic usage\n* Examples\n  * Get structured output\n  * Auto-approve tools\n  * Create a commit\n  * Customize the system prompt\n  * Continue conversations\n* Next steps\n\n### [mcp](https://code.claude.com/docs/en/mcp.md)\n\n* What you can do with MCP\n* Popular MCP servers\n* Installing MCP servers\n  * Option 1: Add a remote HTTP server\n  * Option 2: Add a remote SSE server\n  * Option 3: Add a local stdio server\n  * Managing your servers\n  * Dynamic tool updates\n  * Plugin-provided MCP servers\n* MCP installation scopes\n  * Local scope\n  * Project scope\n  * User scope\n  * Choosing the right scope\n  * Scope hierarchy and precedence\n  * Environment variable expansion in `.mcp.json`\n* Practical examples\n  * Example: Monitor errors with Sentry\n  * Example: Connect to GitHub for code reviews\n  * Example: Query your PostgreSQL database\n* Authenticate with remote MCP servers\n* Add MCP servers from JSON configuration\n* Import MCP servers from Claude Desktop\n* Use Claude Code as an MCP server\n* MCP output limits and warnings\n* Use MCP resources\n  * Reference MCP resources\n* Scale with MCP Tool Search\n  * How it works\n  * For MCP server authors\n  * Configure tool search\n* Use MCP prompts as commands\n  * Execute MCP prompts\n* Managed MCP configuration\n  * Option 1: Exclusive control with managed-mcp.json\n  * Option 2: Policy-based control with allowlists and denylists\n    * Restriction options\n    * Example configuration\n    * How command-based restrictions work\n    * How URL-based restrictions work\n    * Allowlist behavior (`allowedMcpServers`)\n    * Denylist behavior (`deniedMcpServers`)\n    * Important notes\n\n### [troubleshooting](https://code.claude.com/docs/en/troubleshooting.md)\n\n* Common installation issues\n  * Windows installation issues: errors in WSL\n  * WSL2 sandbox setup\n  * Linux and Mac installation issues: permission or command not found errors\n    * Recommended solution: Native Claude Code installation\n  * Windows: \"Claude Code on Windows requires git-bash\"\n  * Windows: \"installMethod is native, but claude command not found\"\n* Permissions and authentication\n  * Repeated permission prompts\n  * Authentication issues\n* Configuration file locations\n  * Resetting configuration\n* Performance and stability\n  * High CPU or memory usage\n  * Command hangs or freezes\n  * Search and discovery issues\n  * Slow or incomplete search results on WSL\n* IDE integration issues\n  * JetBrains IDE not detected on WSL2\n    * WSL2 networking modes\n  * Reporting Windows IDE integration issues (both native and WSL)\n  * Escape key not working in JetBrains (IntelliJ, PyCharm, etc.) terminals\n* Markdown formatting issues\n  * Missing language tags in code blocks\n  * Inconsistent spacing and formatting\n  * Best practices for markdown generation\n* Getting more help\n\n## Deployment\n\n### [third-party-integrations](https://code.claude.com/docs/en/third-party-integrations.md)\n\n* Compare deployment options\n* Configure proxies and gateways\n  * Amazon Bedrock\n  * Microsoft Foundry\n  * Google Vertex AI\n* Best practices for organizations\n  * Invest in documentation and memory\n  * Simplify deployment\n  * Start with guided usage\n  * Configure security policies\n  * Leverage MCP for integrations\n* Next steps\n\n### [amazon-bedrock](https://code.claude.com/docs/en/amazon-bedrock.md)\n\n* Prerequisites\n* Setup\n  * 1. Submit use case details\n  * 2. Configure AWS credentials\n    * Advanced credential configuration\n      * Example configuration\n      * Configuration settings explained\n  * 3. Configure Claude Code\n  * 4. Model configuration\n  * 5. Output token configuration\n* IAM configuration\n* AWS Guardrails\n* Troubleshooting\n* Additional resources\n\n### [google-vertex-ai](https://code.claude.com/docs/en/google-vertex-ai.md)\n\n* Prerequisites\n* Region Configuration\n* Setup\n  * 1. Enable Vertex AI API\n  * 2. Request model access\n  * 3. Configure GCP credentials\n  * 4. Configure Claude Code\n  * 5. Model configuration\n* IAM configuration\n* 1M token context window\n* Troubleshooting\n* Additional resources\n\n### [microsoft-foundry](https://code.claude.com/docs/en/microsoft-foundry.md)\n\n* Prerequisites\n* Setup\n  * 1. Provision Microsoft Foundry resource\n  * 2. Configure Azure credentials\n  * 3. Configure Claude Code\n* Azure RBAC configuration\n* Troubleshooting\n* Additional resources\n\n### [network-config](https://code.claude.com/docs/en/network-config.md)\n\n* Proxy configuration\n  * Environment variables\n  * Basic authentication\n* Custom CA certificates\n* mTLS authentication\n* Network access requirements\n* Additional resources\n\n### [llm-gateway](https://code.claude.com/docs/en/llm-gateway.md)\n\n* Gateway requirements\n* Configuration\n  * Model selection\n* LiteLLM configuration\n  * Prerequisites\n  * Basic LiteLLM setup\n    * Authentication methods\n      * Static API key\n      * Dynamic API key with helper\n    * Unified endpoint (recommended)\n    * Provider-specific pass-through endpoints (alternative)\n      * Claude API through LiteLLM\n      * Amazon Bedrock through LiteLLM\n      * Google Vertex AI through LiteLLM\n* Additional resources\n\n### [devcontainer](https://code.claude.com/docs/en/devcontainer.md)\n\n* Key features\n* Getting started in 4 steps\n* Configuration breakdown\n* Security features\n* Customization options\n* Example use cases\n  * Secure client work\n  * Team onboarding\n  * Consistent CI/CD environments\n* Related resources\n\n### [sandboxing](https://code.claude.com/docs/en/sandboxing.md)\n\n* Overview\n* Why sandboxing matters\n* How it works\n  * Filesystem isolation\n  * Network isolation\n  * OS-level enforcement\n* Getting started\n  * Prerequisites\n  * Enable sandboxing\n  * Sandbox modes\n  * Configure sandboxing\n* Security benefits\n  * Protection against prompt injection\n  * Reduced attack surface\n  * Transparent operation\n* Security Limitations\n* Advanced usage\n  * Custom proxy configuration\n  * Integration with existing security tools\n* Best practices\n* Open source\n* Limitations\n* See also\n\n## Administration\n\n### [setup](https://code.claude.com/docs/en/setup.md)\n\n* System requirements\n  * Additional dependencies\n* Installation\n  * Authentication\n    * For individuals\n    * For teams and organizations\n  * Install a specific version\n  * Binary integrity and code signing\n* NPM installation (deprecated)\n* Windows setup\n* Update Claude Code\n  * Auto updates\n  * Configure release channel\n  * Disable auto-updates\n  * Update manually\n* Uninstall Claude Code\n  * Native installation\n  * Homebrew installation\n  * WinGet installation\n  * NPM installation\n  * Clean up configuration files (optional)\n\n### [iam](https://code.claude.com/docs/en/iam.md)\n\n* Authentication methods\n  * Claude for Teams or Enterprise (recommended)\n  * Claude Console authentication\n  * Cloud provider authentication\n* Access control and permissions\n  * Permission system\n  * Configuring permissions\n    * Permission modes\n    * Working directories\n    * Tool-specific permission rules\n  * Additional permission control with hooks\n  * Managed settings\n  * Settings precedence\n* Credential management\n\n### [security](https://code.claude.com/docs/en/security.md)\n\n* How we approach security\n  * Security foundation\n  * Permission-based architecture\n  * Built-in protections\n  * User responsibility\n* Protect against prompt injection\n  * Core protections\n  * Privacy safeguards\n  * Additional safeguards\n* MCP security\n* IDE security\n* Cloud execution security\n* Security best practices\n  * Working with sensitive code\n  * Team security\n  * Reporting security issues\n* Related resources\n\n### [data-usage](https://code.claude.com/docs/en/data-usage.md)\n\n* Data policies\n  * Data training policy\n  * Development Partner Program\n  * Feedback using the `/bug` command\n  * Session quality surveys\n  * Data retention\n* Data access\n* Local Claude Code: Data flow and dependencies\n  * Cloud execution: Data flow and dependencies\n* Telemetry services\n* Default behaviors by API provider\n\n### [monitoring-usage](https://code.claude.com/docs/en/monitoring-usage.md)\n\n* Quick start\n* Administrator configuration\n* Configuration details\n  * Common configuration variables\n  * Metrics cardinality control\n  * Dynamic headers\n    * Settings configuration\n    * Script requirements\n    * Refresh behavior\n  * Multi-team organization support\n  * Example configurations\n* Available metrics and events\n  * Standard attributes\n  * Metrics\n  * Metric details\n    * Session counter\n    * Lines of code counter\n    * Pull request counter\n    * Commit counter\n    * Cost counter\n    * Token counter\n    * Code edit tool decision counter\n    * Active time counter\n  * Events\n    * User prompt event\n    * Tool result event\n    * API request event\n    * API error event\n    * Tool decision event\n* Interpreting metrics and events data\n  * Usage monitoring\n  * Cost monitoring\n  * Alerting and segmentation\n  * Event analysis\n* Backend considerations\n  * For metrics\n  * For events/logs\n* Service information\n* ROI measurement resources\n* Security/privacy considerations\n* Monitoring Claude Code on Amazon Bedrock\n\n### [costs](https://code.claude.com/docs/en/costs.md)\n\n* Track your costs\n  * Using the `/cost` command\n* Managing costs for teams\n  * Rate limit recommendations\n* Reduce token usage\n  * Manage context proactively\n  * Choose the right model\n  * Reduce MCP server overhead\n  * Install code intelligence plugins for typed languages\n  * Offload processing to hooks and skills\n  * Move instructions from CLAUDE.md to skills\n  * Adjust extended thinking\n  * Delegate verbose operations to subagents\n  * Write specific prompts\n  * Work efficiently on complex tasks\n* Background token usage\n* Understanding changes in Claude Code behavior\n\n### [analytics](https://code.claude.com/docs/en/analytics.md)\n\n* Access analytics\n  * Required roles\n* Available metrics\n  * Lines of code accepted\n  * Suggestion accept rate\n  * Activity\n  * Spend\n  * Team insights\n* Using analytics effectively\n  * Monitor adoption\n  * Measure productivity\n* Related resources\n\n### [plugin-marketplaces](https://code.claude.com/docs/en/plugin-marketplaces.md)\n\n* Overview\n* Walkthrough: create a local marketplace\n* Create the marketplace file\n* Marketplace schema\n  * Required fields\n  * Owner fields\n  * Optional metadata\n* Plugin entries\n  * Required fields\n  * Optional plugin fields\n* Plugin sources\n  * Relative paths\n  * GitHub repositories\n  * Git repositories\n  * Advanced plugin entries\n* Host and distribute marketplaces\n  * Host on GitHub (recommended)\n  * Host on other git services\n  * Private repositories\n  * Test locally before distribution\n  * Require marketplaces for your team\n  * Managed marketplace restrictions\n    * Common configurations\n    * How restrictions work\n* Validation and testing\n* Troubleshooting\n  * Marketplace not loading\n  * Marketplace validation errors\n  * Plugin installation failures\n  * Private repository authentication fails\n  * Plugins with relative paths fail in URL-based marketplaces\n  * Files not found after installation\n* See also\n\n## Configuration\n\n### [settings](https://code.claude.com/docs/en/settings.md)\n\n* Configuration scopes\n  * Available scopes\n  * When to use each scope\n  * How scopes interact\n  * What uses scopes\n* Settings files\n  * Available settings\n  * Permission settings\n  * Permission rule syntax\n    * Rule evaluation order\n    * Matching all uses of a tool\n    * Using specifiers for fine-grained control\n    * Wildcard patterns\n  * Sandbox settings\n  * Attribution settings\n  * File suggestion settings\n  * Hook configuration\n  * Settings precedence\n  * Key points about the configuration system\n  * System prompt\n  * Excluding sensitive files\n* Subagent configuration\n* Plugin configuration\n  * Plugin settings\n    * `enabledPlugins`\n    * `extraKnownMarketplaces`\n    * `strictKnownMarketplaces`\n  * Managing plugins\n* Environment variables\n* Tools available to Claude\n  * Bash tool behavior\n  * Extending tools with hooks\n* See also\n\n### [terminal-config](https://code.claude.com/docs/en/terminal-config.md)\n\n* Themes and appearance\n* Line breaks\n* Notification setup\n  * iTerm 2 system notifications\n  * Custom notification hooks\n* Handling large inputs\n* Vim Mode\n\n### [model-config](https://code.claude.com/docs/en/model-config.md)\n\n* Available models\n  * Model aliases\n  * Setting your model\n* Special model behavior\n  * `default` model setting\n  * `opusplan` model setting\n  * Extended context with \\[1m]\n* Checking your current model\n* Environment variables\n  * Prompt caching configuration\n\n### [memory](https://code.claude.com/docs/en/memory.md)\n\n* Determine memory type\n* CLAUDE.md imports\n* How Claude looks up memories\n* Directly edit memories with `/memory`\n* Set up project memory\n* Modular rules with `.claude/rules/`\n  * Basic structure\n  * Path-specific rules\n  * Glob patterns\n  * Subdirectories\n  * Symlinks\n  * User-level rules\n* Organization-level memory management\n* Memory best practices\n\n### [statusline](https://code.claude.com/docs/en/statusline.md)\n\n* Create a custom status line\n* How it Works\n* JSON Input Structure\n* Example Scripts\n  * Simple Status Line\n  * Git-Aware Status Line\n  * Python Example\n  * Node.js Example\n  * Helper Function Approach\n  * Context Window Usage\n* Tips\n* Troubleshooting\n\n## Reference\n\n### [cli-reference](https://code.claude.com/docs/en/cli-reference.md)\n\n* CLI commands\n* CLI flags\n  * Agents flag format\n  * System prompt flags\n* See also\n\n### [interactive-mode](https://code.claude.com/docs/en/interactive-mode.md)\n\n* Keyboard shortcuts\n  * General controls\n  * Text editing\n  * Theme and display\n  * Multiline input\n  * Quick commands\n* Built-in commands\n  * MCP prompts\n* Vim editor mode\n  * Mode switching\n  * Navigation (NORMAL mode)\n  * Editing (NORMAL mode)\n  * Text objects (NORMAL mode)\n* Command history\n  * Reverse search with Ctrl+R\n* Background bash commands\n  * How backgrounding works\n  * Bash mode with `!` prefix\n* Task list\n* See also\n\n### [checkpointing](https://code.claude.com/docs/en/checkpointing.md)\n\n* How checkpoints work\n  * Automatic tracking\n  * Rewinding changes\n* Common use cases\n* Limitations\n  * Bash command changes not tracked\n  * External changes not tracked\n  * Not a replacement for version control\n* See also\n\n### [hooks](https://code.claude.com/docs/en/hooks.md)\n\n* Hook lifecycle\n* Configuration\n  * Structure\n  * Project-Specific Hook Scripts\n  * Plugin hooks\n  * Hooks in skills and agents\n* Prompt-Based Hooks\n  * How prompt-based hooks work\n  * Configuration\n  * Response schema\n  * Supported hook events\n  * Example: Intelligent Stop hook\n  * Example: SubagentStop with custom logic\n  * Comparison with bash command hooks\n  * Best practices\n* Hook Events\n  * PreToolUse\n  * PermissionRequest\n  * PostToolUse\n  * Notification\n  * UserPromptSubmit\n  * Stop\n  * SubagentStop\n  * PreCompact\n  * Setup\n  * SessionStart\n    * Persisting environment variables\n  * SessionEnd\n* Hook Input\n  * PreToolUse Input\n    * Bash tool\n    * Write tool\n    * Edit tool\n    * Read tool\n  * PostToolUse Input\n  * Notification Input\n  * UserPromptSubmit Input\n  * Stop Input\n  * SubagentStop Input\n  * PreCompact Input\n  * Setup Input\n  * SessionStart Input\n  * SubagentStart Input\n  * SessionEnd Input\n* Hook Output\n  * Simple: Exit Code\n    * Exit Code 2 Behavior\n  * Advanced: JSON Output\n    * Common JSON Fields\n    * `PreToolUse` Decision Control\n    * `PermissionRequest` Decision Control\n    * `PostToolUse` Decision Control\n    * `UserPromptSubmit` Decision Control\n    * `Stop`/`SubagentStop` Decision Control\n    * `Setup` Decision Control\n    * `SessionStart` Decision Control\n    * `SessionEnd` Decision Control\n    * Exit Code Example: Bash Command Validation\n    * JSON Output Example: UserPromptSubmit to Add Context and Validation\n    * JSON Output Example: PreToolUse with Approval\n* Working with MCP Tools\n  * MCP Tool Naming\n  * Configuring Hooks for MCP Tools\n* Examples\n* Security Considerations\n  * Disclaimer\n  * Security Best Practices\n  * Configuration Safety\n* Hook Execution Details\n* Debugging\n  * Basic Troubleshooting\n  * Advanced Debugging\n  * Debug Output Example\n\n### [plugins-reference](https://code.claude.com/docs/en/plugins-reference.md)\n\n* Plugin components reference\n  * Skills\n  * Agents\n  * Hooks\n  * MCP servers\n  * LSP servers\n* Plugin installation scopes\n* Plugin manifest schema\n  * Complete schema\n  * Required fields\n  * Metadata fields\n  * Component path fields\n  * Path behavior rules\n  * Environment variables\n* Plugin caching and file resolution\n  * How plugin caching works\n  * Path traversal limitations\n  * Working with external dependencies\n* Plugin directory structure\n  * Standard plugin layout\n  * File locations reference\n* CLI commands reference\n  * plugin install\n  * plugin uninstall\n  * plugin enable\n  * plugin disable\n  * plugin update\n* Debugging and development tools\n  * Debugging commands\n  * Common issues\n  * Example error messages\n  * Hook troubleshooting\n  * MCP server troubleshooting\n  * Directory structure mistakes\n* Distribution and versioning reference\n  * Version management\n* See also\n\n## Resources\n\n### [legal-and-compliance](https://code.claude.com/docs/en/legal-and-compliance.md)\n\n* Legal agreements\n  * License\n  * Commercial agreements\n* Compliance\n  * Healthcare compliance (BAA)\n* Security and trust\n  * Trust and safety\n  * Security vulnerability reporting\n"}]},"uuid":"6a754707-20fa-4cdf-88c6-cf2271d36e63","timestamp":"2026-01-27T20:12:27.603Z","sourceToolAssistantUUID":"97f7f7f3-d8d9-48fb-a5d9-9f89e061fdee"}
{"parentUuid":"6a754707-20fa-4cdf-88c6-cf2271d36e63","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_016KcWN92cRvFh1pigsgueDx","type":"message","role":"assistant","content":[{"type":"text","text":"Maintenant je vais consulter la documentation spécifique sur les permissions et les settings."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":8690,"cache_read_input_tokens":13634,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":8690},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXYVYWFzhPFSzJnBHMBo1","type":"assistant","uuid":"8cfd5ecc-697c-4e75-acef-e72097036283","timestamp":"2026-01-27T20:12:28.770Z"}
{"parentUuid":"8cfd5ecc-697c-4e75-acef-e72097036283","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_016KcWN92cRvFh1pigsgueDx","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Cp8R8DipspZGyL1cvHKYX5","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/settings.md","prompt":"Permission settings, allowed tools, WebSearch, WebFetch configuration"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":8690,"cache_read_input_tokens":13634,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":8690},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXYVYWFzhPFSzJnBHMBo1","type":"assistant","uuid":"1bc5a510-5eec-482a-b9db-d0dfef6a2500","timestamp":"2026-01-27T20:12:29.282Z"}
{"parentUuid":"1bc5a510-5eec-482a-b9db-d0dfef6a2500","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_016KcWN92cRvFh1pigsgueDx","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01N3urU9AKSKewFWxfyf615K","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/iam.md","prompt":"Permission system, configuring permissions, tool-specific permission rules"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":8690,"cache_read_input_tokens":13634,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":8690},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXYVYWFzhPFSzJnBHMBo1","type":"assistant","uuid":"62f0ae10-7b40-4006-84bf-e48c0c17105f","timestamp":"2026-01-27T20:12:29.791Z"}
{"parentUuid":"62f0ae10-7b40-4006-84bf-e48c0c17105f","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_016KcWN92cRvFh1pigsgueDx","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01X5v5HpQcLpsWeRSXZ2jz3F","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/best-practices.md","prompt":"Configure permissions, WebSearch, WebFetch"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":8690,"cache_read_input_tokens":13634,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":8690},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXYVYWFzhPFSzJnBHMBo1","type":"assistant","uuid":"9ce0d821-bdd8-4fa5-9c6e-46c0c69b766f","timestamp":"2026-01-27T20:12:30.104Z"}
{"parentUuid":"62f0ae10-7b40-4006-84bf-e48c0c17105f","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01N3urU9AKSKewFWxfyf615K","type":"tool_result","content":"> ## Documentation Index\n> Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt\n> Use this file to discover all available pages before exploring further.\n\n# Identity and Access Management\n\n> Learn how to configure user authentication, authorization, and access controls for Claude Code in your organization.\n\n## Authentication methods\n\nSetting up Claude Code requires access to Anthropic models. For teams, you can set up Claude Code access in one of these ways:\n\n* [Claude for Teams or Enterprise](/en/setup#for-teams-and-organizations) (recommended)\n* [Claude Console with team billing](/en/setup#for-teams-and-organizations)\n* [Amazon Bedrock](/en/amazon-bedrock)\n* [Google Vertex AI](/en/google-vertex-ai)\n* [Microsoft Foundry](/en/microsoft-foundry)\n\n### Claude for Teams or Enterprise (recommended)\n\n[Claude for Teams](https://claude.com/pricing#team-&-enterprise) and [Claude for Enterprise](https://anthropic.com/contact-sales) provide the best experience for organizations using Claude Code. Team members get access to both Claude Code and Claude on the web with centralized billing and team management.\n\n* **Claude for Teams**: Self-service plan with collaboration features, admin tools, and billing management. Best for smaller teams.\n* **Claude for Enterprise**: Adds SSO, domain capture, role-based permissions, compliance API, and managed policy settings for organization-wide Claude Code configurations. Best for larger organizations with security and compliance requirements.\n\n**To set up Claude Code access:**\n\n1. Subscribe to [Claude for Teams](https://claude.com/pricing#team-&-enterprise) or contact sales for [Claude for Enterprise](https://anthropic.com/contact-sales)\n2. Invite team members from the admin dashboard\n3. Team members install Claude Code and log in with their Claude.ai accounts\n\n### Claude Console authentication\n\nFor organizations that prefer API-based billing, you can set up access through the Claude Console.\n\n**To set up Claude Code access for your team via Claude Console:**\n\n1. Use your existing Claude Console account or create a new Claude Console account\n2. You can add users through either method below:\n   * Bulk invite users from within the Console (Console -> Settings -> Members -> Invite)\n   * [Set up SSO](https://support.claude.com/en/articles/13132885-setting-up-single-sign-on-sso)\n3. When inviting users, they need one of the following roles:\n   * \"Claude Code\" role means users can only create Claude Code API keys\n   * \"Developer\" role means users can create any kind of API key\n4. Each invited user needs to complete these steps:\n   * Accept the Console invite\n   * [Check system requirements](/en/setup#system-requirements)\n   * [Install Claude Code](/en/setup#installation)\n   * Login with Console account credentials\n\n### Cloud provider authentication\n\n**To set up Claude Code access for your team via Bedrock, Vertex, or Azure:**\n\n1. Follow the [Bedrock docs](/en/amazon-bedrock), [Vertex docs](/en/google-vertex-ai), or [Microsoft Foundry docs](/en/microsoft-foundry)\n2. Distribute the environment variables and instructions for generating cloud credentials to your users. Read more about how to [manage configuration here](/en/settings).\n3. Users can [install Claude Code](/en/setup#installation)\n\n## Access control and permissions\n\nWe support fine-grained permissions so that you're able to specify exactly what the agent is allowed to do (e.g. run tests, run linter) and what it is not allowed to do (e.g. update cloud infrastructure). These permission settings can be checked into version control and distributed to all developers in your organization, as well as customized by individual developers.\n\n### Permission system\n\nClaude Code uses a tiered permission system to balance power and safety:\n\n| Tool Type         | Example          | Approval Required | \"Yes, don't ask again\" Behavior               |\n| :---------------- | :--------------- | :---------------- | :-------------------------------------------- |\n| Read-only         | File reads, Grep | No                | N/A                                           |\n| Bash Commands     | Shell execution  | Yes               | Permanently per project directory and command |\n| File Modification | Edit/write files | Yes               | Until session end                             |\n\n### Configuring permissions\n\nYou can view & manage Claude Code's tool permissions with `/permissions`. This UI lists all permission rules and the settings.json file they are sourced from.\n\n* **Allow** rules let Claude Code use the specified tool without manual approval.\n* **Ask** rules prompt for confirmation whenever Claude Code tries to use the specified tool.\n* **Deny** rules prevent Claude Code from using the specified tool.\n\nRules are evaluated in order: **deny → ask → allow**. The first matching rule wins, so deny rules always take precedence.\n\n* **Additional directories** extend Claude's file access to directories beyond the initial working directory.\n* **Default mode** controls Claude's permission behavior when encountering new requests.\n\nPermission rules use the format: `Tool` or `Tool(optional-specifier)`\n\nA rule that is just the tool name matches any use of that tool. For example, adding `Bash` to the allow list allows Claude Code to use the Bash tool without requiring user approval. `Bash(*)` is equivalent to `Bash` and can be used interchangeably.\n\n<Note>\n  For a quick reference on permission rule syntax including wildcards, see [Permission rule syntax](/en/settings#permission-rule-syntax) in the settings documentation.\n</Note>\n\n#### Permission modes\n\nClaude Code supports several permission modes that can be set as the `defaultMode` in [settings files](/en/settings#settings-files):\n\n| Mode                | Description                                                                                                               |\n| :------------------ | :------------------------------------------------------------------------------------------------------------------------ |\n| `default`           | Standard behavior - prompts for permission on first use of each tool                                                      |\n| `acceptEdits`       | Automatically accepts file edit permissions for the session                                                               |\n| `plan`              | Plan Mode - Claude can analyze but not modify files or execute commands                                                   |\n| `dontAsk`           | Auto-denies tools unless pre-approved via `/permissions` or [`permissions.allow`](/en/settings#permission-settings) rules |\n| `bypassPermissions` | Skips all permission prompts (requires safe environment - see warning below)                                              |\n\n#### Working directories\n\nBy default, Claude has access to files in the directory where it was launched. You can extend this access:\n\n* **During startup**: Use `--add-dir <path>` CLI argument\n* **During session**: Use `/add-dir` command\n* **Persistent configuration**: Add to `additionalDirectories` in [settings files](/en/settings#settings-files)\n\nFiles in additional directories follow the same permission rules as the original working directory - they become readable without prompts, and file editing permissions follow the current permission mode.\n\n#### Tool-specific permission rules\n\nSome tools support more fine-grained permission controls:\n\n**Bash**\n\nBash permission rules support wildcard matching with `*`. Wildcards can appear at any position in the command, including at the beginning, middle, or end:\n\n* `Bash(npm run build)` Matches the exact Bash command `npm run build`\n* `Bash(npm run test *)` Matches Bash commands starting with `npm run test`\n* `Bash(npm *)` Matches any command starting with `npm ` (e.g., `npm install`, `npm run build`)\n* `Bash(* install)` Matches any command ending with ` install` (e.g., `npm install`, `yarn install`)\n* `Bash(git * main)` Matches commands like `git checkout main`, `git merge main`\n* `Bash(* --help *)` Matches any command with `--help` followed by additional arguments\n\nWhen `*` appears at the end with a space before it (like `Bash(ls *)`), it enforces a word boundary, requiring the prefix to be followed by a space or end-of-string. For example, `Bash(ls *)` matches `ls -la` but not `lsof`. In contrast, `Bash(ls*)` without a space matches both `ls -la` and `lsof` because there's no word boundary constraint. The legacy `:*` suffix syntax is equivalent to ` *` but is deprecated.\n\n<Tip>\n  Claude Code is aware of shell operators (like `&&`) so a prefix match rule like `Bash(safe-cmd *)` won't give it permission to run the command `safe-cmd && other-cmd`\n</Tip>\n\n<Warning>\n  Important limitations of Bash permission patterns:\n\n  1. The space before `*` matters: `Bash(ls *)` matches `ls -la` but not `lsof`, while `Bash(ls*)` matches both\n  2. The `*` wildcard can appear at any position and matches any sequence of characters\n  3. Patterns like `Bash(curl http://github.com/ *)` can be bypassed in many ways:\n     * Options before URL: `curl -X GET http://github.com/...` won't match\n     * Different protocol: `curl https://github.com/...` won't match\n     * Redirects: `curl -L http://bit.ly/xyz` (redirects to github)\n     * Variables: `URL=http://github.com && curl $URL` won't match\n     * Extra spaces: `curl  http://github.com` won't match\n\n  For more reliable URL filtering, consider:\n\n  * **Restrict Bash network tools**: Use deny rules to block `curl`, `wget`, and similar commands, then use the WebFetch tool with `WebFetch(domain:github.com)` permission for allowed domains\n  * **Use PreToolUse hooks**: Implement a hook that validates URLs in Bash commands and blocks disallowed domains\n  * Instructing Claude Code about your allowed curl patterns via CLAUDE.md\n\n  Note that using WebFetch alone does not prevent network access. If Bash is allowed, Claude can still use `curl`, `wget`, or other tools to reach any URL.\n</Warning>\n\n**Read & Edit**\n\n`Edit` rules apply to all built-in tools that edit files. Claude will make a best-effort attempt to apply `Read` rules to all built-in tools that read files like Grep and Glob.\n\nRead & Edit rules both follow the [gitignore](https://git-scm.com/docs/gitignore) specification with four distinct pattern types:\n\n| Pattern            | Meaning                                | Example                          | Matches                            |\n| ------------------ | -------------------------------------- | -------------------------------- | ---------------------------------- |\n| `//path`           | **Absolute** path from filesystem root | `Read(//Users/alice/secrets/**)` | `/Users/alice/secrets/**`          |\n| `~/path`           | Path from **home** directory           | `Read(~/Documents/*.pdf)`        | `/Users/alice/Documents/*.pdf`     |\n| `/path`            | Path **relative to settings file**     | `Edit(/src/**/*.ts)`             | `<settings file path>/src/**/*.ts` |\n| `path` or `./path` | Path **relative to current directory** | `Read(*.env)`                    | `<cwd>/*.env`                      |\n\n<Warning>\n  A pattern like `/Users/alice/file` is NOT an absolute path - it's relative to your settings file! Use `//Users/alice/file` for absolute paths.\n</Warning>\n\n* `Edit(/docs/**)` - Edits in `<project>/docs/` (NOT `/docs/`!)\n* `Read(~/.zshrc)` - Reads your home directory's `.zshrc`\n* `Edit(//tmp/scratch.txt)` - Edits the absolute path `/tmp/scratch.txt`\n* `Read(src/**)` - Reads from `<current-directory>/src/`\n\n<Note>\n  In gitignore patterns, `*` matches files in a single directory while `**` matches recursively across directories. To allow all file access, use just the tool name without parentheses: `Read`, `Edit`, or `Write`.\n</Note>\n\n**WebFetch**\n\n* `WebFetch(domain:example.com)` Matches fetch requests to example.com\n\n**MCP**\n\n* `mcp__puppeteer` Matches any tool provided by the `puppeteer` server (name configured in Claude Code)\n* `mcp__puppeteer__*` Wildcard syntax that also matches all tools from the `puppeteer` server\n* `mcp__puppeteer__puppeteer_navigate` Matches the `puppeteer_navigate` tool provided by the `puppeteer` server\n\n**Task (Subagents)**\n\nUse `Task(AgentName)` rules to control which [subagents](/en/sub-agents) Claude can use:\n\n* `Task(Explore)` Matches the Explore subagent\n* `Task(Plan)` Matches the Plan subagent\n* `Task(Verify)` Matches the Verify subagent\n\nAdd these rules to the `deny` array in your [settings](/en/settings#permission-settings) or use the `--disallowedTools` CLI flag to disable specific agents. For example, to disable the Explore agent:\n\n```json  theme={null}\n{\n  \"permissions\": {\n    \"deny\": [\"Task(Explore)\"]\n  }\n}\n```\n\n### Additional permission control with hooks\n\n[Claude Code hooks](/en/hooks-guide) provide a way to register custom shell commands to perform permission evaluation at runtime. When Claude Code makes a tool call, PreToolUse hooks run before the permission system runs, and the hook output can determine whether to approve or deny the tool call in place of the permission system.\n\n### Managed settings\n\nFor organizations that need centralized control over Claude Code configuration, administrators can deploy `managed-settings.json` files to [system directories](/en/settings#settings-files). These policy files follow the same format as regular settings files and cannot be overridden by user or project settings.\n\n### Settings precedence\n\nWhen multiple settings sources exist, they are applied in the following order (highest to lowest precedence):\n\n1. Managed settings (`managed-settings.json`)\n2. Command line arguments\n3. Local project settings (`.claude/settings.local.json`)\n4. Shared project settings (`.claude/settings.json`)\n5. User settings (`~/.claude/settings.json`)\n\nThis hierarchy ensures that organizational policies are always enforced while still allowing flexibility at the project and user levels where appropriate.\n\n## Credential management\n\nClaude Code securely manages your authentication credentials:\n\n* **Storage location**: On macOS, API keys, OAuth tokens, and other credentials are stored in the encrypted macOS Keychain.\n* **Supported authentication types**: Claude.ai credentials, Claude API credentials, Azure Auth, Bedrock Auth, and Vertex Auth.\n* **Custom credential scripts**: The [`apiKeyHelper`](/en/settings#available-settings) setting can be configured to run a shell script that returns an API key.\n* **Refresh intervals**: By default, `apiKeyHelper` is called after 5 minutes or on HTTP 401 response. Set `CLAUDE_CODE_API_KEY_HELPER_TTL_MS` environment variable for custom refresh intervals.\n"}]},"uuid":"c791547c-c10b-4979-8d41-fc64d7264727","timestamp":"2026-01-27T20:12:30.446Z","sourceToolAssistantUUID":"62f0ae10-7b40-4006-84bf-e48c0c17105f"}
{"parentUuid":"9ce0d821-bdd8-4fa5-9c6e-46c0c69b766f","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01X5v5HpQcLpsWeRSXZ2jz3F","type":"tool_result","content":"> ## Documentation Index\n> Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt\n> Use this file to discover all available pages before exploring further.\n\n# Best Practices for Claude Code\n\n> Tips and patterns for getting the most out of Claude Code, from configuring your environment to scaling across parallel sessions.\n\nClaude Code is an agentic coding environment. Unlike a chatbot that answers questions and waits, Claude Code can read your files, run commands, make changes, and autonomously work through problems while you watch, redirect, or step away entirely.\n\nThis changes how you work. Instead of writing code yourself and asking Claude to review it, you describe what you want and Claude figures out how to build it. Claude explores, plans, and implements.\n\nBut this autonomy still comes with a learning curve. Claude works within certain constraints you need to understand.\n\nThis guide covers patterns that have proven effective across Anthropic's internal teams and for engineers using Claude Code across various codebases, languages, and environments. For how the agentic loop works under the hood, see [How Claude Code works](/en/how-claude-code-works).\n\n***\n\nMost best practices are based on one constraint: Claude's context window fills up fast, and performance degrades as it fills.\n\nClaude's context window holds your entire conversation, including every message, every file Claude reads, and every command output. However, this can fill up fast. A single debugging session or codebase exploration might generate and consume tens of thousands of tokens.\n\nThis matters since LLM performance degrades as context fills. When the context window is getting full, Claude may start \"forgetting\" earlier instructions or making more mistakes. The context window is the most important resource to manage. For detailed strategies on reducing token usage, see [Reduce token usage](/en/costs#reduce-token-usage).\n\n***\n\n## Give Claude a way to verify its work\n\n<Tip>\n  Include tests, screenshots, or expected outputs so Claude can check itself. This is the single highest-leverage thing you can do.\n</Tip>\n\nClaude performs dramatically better when it can verify its own work, like run tests, compare screenshots, and validate outputs.\n\nWithout clear success criteria, it might produce something that looks right but actually doesn't work. You become the only feedback loop, and every mistake requires your attention.\n\n| Strategy                              | Before                                                  | After                                                                                                                                                                                                   |\n| ------------------------------------- | ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **Provide verification criteria**     | *\"implement a function that validates email addresses\"* | *\"write a validateEmail function. example test cases: [user@example.com](mailto:user@example.com) is true, invalid is false, [user@.com](mailto:user@.com) is false. run the tests after implementing\"* |\n| **Verify UI changes visually**        | *\"make the dashboard look better\"*                      | *\"\\[paste screenshot] implement this design. take a screenshot of the result and compare it to the original. list differences and fix them\"*                                                            |\n| **Address root causes, not symptoms** | *\"the build is failing\"*                                | *\"the build fails with this error: \\[paste error]. fix it and verify the build succeeds. address the root cause, don't suppress the error\"*                                                             |\n\nUI changes can be verified using the [Claude in Chrome extension](/en/chrome). It opens a browser, tests the UI, and iterates until the code works.\n\nYour verification can also be a test suite, a linter, or a Bash command that checks output. Invest in making your verification rock-solid.\n\n***\n\n## Explore first, then plan, then code\n\n<Tip>\n  Separate research and planning from implementation to avoid solving the wrong problem.\n</Tip>\n\nLetting Claude jump straight to coding can produce code that solves the wrong problem. Use [Plan Mode](/en/common-workflows#use-plan-mode-for-safe-code-analysis) to separate exploration from execution.\n\nThe recommended workflow has four phases:\n\n<Steps>\n  <Step title=\"Explore\">\n    Enter Plan Mode. Claude reads files and answers questions without making changes.\n\n    ```txt claude (Plan Mode) theme={null}\n    read /src/auth and understand how we handle sessions and login.\n    also look at how we manage environment variables for secrets.\n    ```\n  </Step>\n\n  <Step title=\"Plan\">\n    Ask Claude to create a detailed implementation plan.\n\n    ```txt claude (Plan Mode) theme={null}\n    I want to add Google OAuth. What files need to change?\n    What's the session flow? Create a plan.\n    ```\n\n    Press `Ctrl+G` to open the plan in your text editor for direct editing before Claude proceeds.\n  </Step>\n\n  <Step title=\"Implement\">\n    Switch back to Normal Mode and let Claude code, verifying against its plan.\n\n    ```txt claude (Normal Mode) theme={null}\n    implement the OAuth flow from your plan. write tests for the\n    callback handler, run the test suite and fix any failures.\n    ```\n  </Step>\n\n  <Step title=\"Commit\">\n    Ask Claude to commit with a descriptive message and create a PR.\n\n    ```txt claude (Normal Mode) theme={null}\n    commit with a descriptive message and open a PR\n    ```\n  </Step>\n</Steps>\n\n<Callout>\n  Plan Mode is useful, but also adds overhead.\n\n  For tasks where the scope is clear and the fix is small (like fixing a typo, adding a log line, or renaming a variable) ask Claude to do it directly.\n\n  Planning is most useful when you're uncertain about the approach, when the change modifies multiple files, or when you're unfamiliar with the code being modified. If you could describe the diff in one sentence, skip the plan.\n</Callout>\n\n***\n\n## Provide specific context in your prompts\n\n<Tip>\n  The more precise your instructions, the fewer corrections you'll need.\n</Tip>\n\nClaude can infer intent, but it can't read your mind. Reference specific files, mention constraints, and point to example patterns.\n\n| Strategy                                                                                         | Before                                               | After                                                                                                                                                                                                                                                                                                                                                            |\n| ------------------------------------------------------------------------------------------------ | ---------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **Scope the task.** Specify which file, what scenario, and testing preferences.                  | *\"add tests for foo.py\"*                             | *\"write a test for foo.py covering the edge case where the user is logged out. avoid mocks.\"*                                                                                                                                                                                                                                                                    |\n| **Point to sources.** Direct Claude to the source that can answer a question.                    | *\"why does ExecutionFactory have such a weird api?\"* | *\"look through ExecutionFactory's git history and summarize how its api came to be\"*                                                                                                                                                                                                                                                                             |\n| **Reference existing patterns.** Point Claude to patterns in your codebase.                      | *\"add a calendar widget\"*                            | *\"look at how existing widgets are implemented on the home page to understand the patterns. HotDogWidget.php is a good example. follow the pattern to implement a new calendar widget that lets the user select a month and paginate forwards/backwards to pick a year. build from scratch without libraries other than the ones already used in the codebase.\"* |\n| **Describe the symptom.** Provide the symptom, the likely location, and what \"fixed\" looks like. | *\"fix the login bug\"*                                | *\"users report that login fails after session timeout. check the auth flow in src/auth/, especially token refresh. write a failing test that reproduces the issue, then fix it\"*                                                                                                                                                                                 |\n\nVague prompts can be useful when you're exploring and can afford to course-correct. A prompt like `\"what would you improve in this file?\"` can surface things you wouldn't have thought to ask about.\n\n### Provide rich content\n\n<Tip>\n  Use `@` to reference files, paste screenshots/images, or pipe data directly.\n</Tip>\n\nYou can provide rich data to Claude in several ways:\n\n* **Reference files with `@`** instead of describing where code lives. Claude reads the file before responding.\n* **Paste images directly**. Copy/paste or drag and drop images into the prompt.\n* **Give URLs** for documentation and API references. Use `/permissions` to allowlist frequently-used domains.\n* **Pipe in data** by running `cat error.log | claude` to send file contents directly.\n* **Let Claude fetch what it needs**. Tell Claude to pull context itself using Bash commands, MCP tools, or by reading files.\n\n***\n\n## Configure your environment\n\nA few setup steps make Claude Code significantly more effective across all your sessions. For a full overview of extension features and when to use each one, see [Extend Claude Code](/en/features-overview).\n\n### Write an effective CLAUDE.md\n\n<Tip>\n  Run `/init` to generate a starter CLAUDE.md file based on your current project structure, then refine over time.\n</Tip>\n\nCLAUDE.md is a special file that Claude reads at the start of every conversation. Include Bash commands, code style, and workflow rules. This gives Claude persistent context **it can't infer from code alone**.\n\nThe `/init` command analyzes your codebase to detect build systems, test frameworks, and code patterns, giving you a solid foundation to refine.\n\nThere's no required format for CLAUDE.md files, but keep it short and human-readable. For example:\n\n```markdown CLAUDE.md theme={null}\n# Code style\n- Use ES modules (import/export) syntax, not CommonJS (require)\n- Destructure imports when possible (eg. import { foo } from 'bar')\n\n# Workflow\n- Be sure to typecheck when you're done making a series of code changes\n- Prefer running single tests, and not the whole test suite, for performance\n```\n\nCLAUDE.md is loaded every session, so only include things that apply broadly. For domain knowledge or workflows that are only relevant sometimes, use [skills](/en/skills) instead. Claude loads them on demand without bloating every conversation.\n\nKeep it concise. For each line, ask: *\"Would removing this cause Claude to make mistakes?\"* If not, cut it. Bloated CLAUDE.md files cause Claude to ignore your actual instructions!\n\n| ✅ Include                                            | ❌ Exclude                                          |\n| ---------------------------------------------------- | -------------------------------------------------- |\n| Bash commands Claude can't guess                     | Anything Claude can figure out by reading code     |\n| Code style rules that differ from defaults           | Standard language conventions Claude already knows |\n| Testing instructions and preferred test runners      | Detailed API documentation (link to docs instead)  |\n| Repository etiquette (branch naming, PR conventions) | Information that changes frequently                |\n| Architectural decisions specific to your project     | Long explanations or tutorials                     |\n| Developer environment quirks (required env vars)     | File-by-file descriptions of the codebase          |\n| Common gotchas or non-obvious behaviors              | Self-evident practices like \"write clean code\"     |\n\nIf Claude keeps doing something you don't want despite having a rule against it, the file is probably too long and the rule is getting lost. If Claude asks you questions that are answered in CLAUDE.md, the phrasing might be ambiguous. Treat CLAUDE.md like code: review it when things go wrong, prune it regularly, and test changes by observing whether Claude's behavior actually shifts.\n\nYou can tune instructions by adding emphasis (e.g., \"IMPORTANT\" or \"YOU MUST\") to improve adherence. Check CLAUDE.md into git so your team can contribute. The file compounds in value over time.\n\nCLAUDE.md files can import additional files using `@path/to/import` syntax:\n\n```markdown CLAUDE.md theme={null}\nSee @README.md for project overview and @package.json for available npm commands.\n\n# Additional Instructions\n- Git workflow: @docs/git-instructions.md\n- Personal overrides: @~/.claude/my-project-instructions.md\n```\n\nYou can place CLAUDE.md files in several locations:\n\n* **Home folder (`~/.claude/CLAUDE.md`)**: Applies to all Claude sessions\n* **Project root (`./CLAUDE.md`)**: Check into git to share with your team, or name it `CLAUDE.local.md` and `.gitignore` it\n* **Parent directories**: Useful for monorepos where both `root/CLAUDE.md` and `root/foo/CLAUDE.md` are pulled in automatically\n* **Child directories**: Claude pulls in child CLAUDE.md files on demand when working with files in those directories\n\n### Configure permissions\n\n<Tip>\n  Use `/permissions` to allowlist safe commands or `/sandbox` for OS-level isolation. This reduces interruptions while keeping you in control.\n</Tip>\n\nBy default, Claude Code requests permission for actions that might modify your system: file writes, Bash commands, MCP tools, etc. This is safe but tedious. After the tenth approval you're not really reviewing anymore, you're just clicking through. There are two ways to reduce these interruptions:\n\n* **Permission allowlists**: Permit specific tools you know are safe (like `npm run lint` or `git commit`)\n* **Sandboxing**: Enable OS-level isolation that restricts filesystem and network access, allowing Claude to work more freely within defined boundaries\n\nAlternatively, use `--dangerously-skip-permissions` to bypass all permission checks for contained workflows like fixing lint errors or generating boilerplate.\n\n<Warning>\n  Letting Claude run arbitrary commands can result in data loss, system corruption, or data exfiltration via prompt injection. Only use `--dangerously-skip-permissions` in a sandbox without internet access.\n</Warning>\n\nRead more about [configuring permissions](/en/settings) and [enabling sandboxing](/en/sandboxing#sandboxing).\n\n### Use CLI tools\n\n<Tip>\n  Tell Claude Code to use CLI tools like `gh`, `aws`, `gcloud`, and `sentry-cli` when interacting with external services.\n</Tip>\n\nCLI tools are the most context-efficient way to interact with external services. If you use GitHub, install the `gh` CLI. Claude knows how to use it for creating issues, opening pull requests, and reading comments. Without `gh`, Claude can still use the GitHub API, but unauthenticated requests often hit rate limits.\n\nClaude is also effective at learning CLI tools it doesn't already know. Try prompts like `Use 'foo-cli-tool --help' to learn about foo tool, then use it to solve A, B, C.`\n\n### Connect MCP servers\n\n<Tip>\n  Run `claude mcp add` to connect external tools like Notion, Figma, or your database.\n</Tip>\n\nWith [MCP servers](/en/mcp), you can ask Claude to implement features from issue trackers, query databases, analyze monitoring data, integrate designs from Figma, and automate workflows.\n\n### Set up hooks\n\n<Tip>\n  Use hooks for actions that must happen every time with zero exceptions.\n</Tip>\n\n[Hooks](/en/hooks-guide) run scripts automatically at specific points in Claude's workflow. Unlike CLAUDE.md instructions which are advisory, hooks are deterministic and guarantee the action happens.\n\nClaude can write hooks for you. Try prompts like *\"Write a hook that runs eslint after every file edit\"* or *\"Write a hook that blocks writes to the migrations folder.\"* Run `/hooks` for interactive configuration, or edit `.claude/settings.json` directly.\n\n### Create skills\n\n<Tip>\n  Create `SKILL.md` files in `.claude/skills/` to give Claude domain knowledge and reusable workflows.\n</Tip>\n\n[Skills](/en/skills) extend Claude's knowledge with information specific to your project, team, or domain. Claude applies them automatically when relevant, or you can invoke them directly with `/skill-name`.\n\nCreate a skill by adding a directory with a `SKILL.md` to `.claude/skills/`:\n\n```markdown .claude/skills/api-conventions/SKILL.md theme={null}\n---\nname: api-conventions\ndescription: REST API design conventions for our services\n---\n# API Conventions\n- Use kebab-case for URL paths\n- Use camelCase for JSON properties\n- Always include pagination for list endpoints\n- Version APIs in the URL path (/v1/, /v2/)\n```\n\nSkills can also define repeatable workflows you invoke directly:\n\n```markdown .claude/skills/fix-issue/SKILL.md theme={null}\n---\nname: fix-issue\ndescription: Fix a GitHub issue\ndisable-model-invocation: true\n---\nAnalyze and fix the GitHub issue: $ARGUMENTS.\n\n1. Use `gh issue view` to get the issue details\n2. Understand the problem described in the issue\n3. Search the codebase for relevant files\n4. Implement the necessary changes to fix the issue\n5. Write and run tests to verify the fix\n6. Ensure code passes linting and type checking\n7. Create a descriptive commit message\n8. Push and create a PR\n```\n\nRun `/fix-issue 1234` to invoke it. Use `disable-model-invocation: true` for workflows with side effects that you want to trigger manually.\n\n### Create custom subagents\n\n<Tip>\n  Define specialized assistants in `.claude/agents/` that Claude can delegate to for isolated tasks.\n</Tip>\n\n[Subagents](/en/sub-agents) run in their own context with their own set of allowed tools. They're useful for tasks that read many files or need specialized focus without cluttering your main conversation.\n\n```markdown .claude/agents/security-reviewer.md theme={null}\n---\nname: security-reviewer\ndescription: Reviews code for security vulnerabilities\ntools: Read, Grep, Glob, Bash\nmodel: opus\n---\nYou are a senior security engineer. Review code for:\n- Injection vulnerabilities (SQL, XSS, command injection)\n- Authentication and authorization flaws\n- Secrets or credentials in code\n- Insecure data handling\n\nProvide specific line references and suggested fixes.\n```\n\nTell Claude to use subagents explicitly: *\"Use a subagent to review this code for security issues.\"*\n\n### Install plugins\n\n<Tip>\n  Run `/plugin` to browse the marketplace. Plugins add skills, tools, and integrations without configuration.\n</Tip>\n\n[Plugins](/en/plugins) bundle skills, hooks, subagents, and MCP servers into a single installable unit from the community and Anthropic. If you work with a typed language, install a [code intelligence plugin](/en/discover-plugins#code-intelligence) to give Claude precise symbol navigation and automatic error detection after edits.\n\nFor guidance on choosing between skills, subagents, hooks, and MCP, see [Extend Claude Code](/en/features-overview#match-features-to-your-goal).\n\n***\n\n## Communicate effectively\n\nThe way you communicate with Claude Code significantly impacts the quality of results.\n\n### Ask codebase questions\n\n<Tip>\n  Ask Claude questions you'd ask a senior engineer.\n</Tip>\n\nWhen onboarding to a new codebase, use Claude Code for learning and exploration. You can ask Claude the same sorts of questions you would ask another engineer:\n\n* How does logging work?\n* How do I make a new API endpoint?\n* What does `async move { ... }` do on line 134 of `foo.rs`?\n* What edge cases does `CustomerOnboardingFlowImpl` handle?\n* Why does this code call `foo()` instead of `bar()` on line 333?\n\nUsing Claude Code this way is an effective onboarding workflow, improving ramp-up time and reducing load on other engineers. No special prompting required: ask questions directly.\n\n### Let Claude interview you\n\n<Tip>\n  For larger features, have Claude interview you first. Start with a minimal prompt and ask Claude to interview you using the `AskUserQuestion` tool.\n</Tip>\n\nClaude asks about things you might not have considered yet, including technical implementation, UI/UX, edge cases, and tradeoffs.\n\n```\nI want to build [brief description]. Interview me in detail using the AskUserQuestion tool.\n\nAsk about technical implementation, UI/UX, edge cases, concerns, and tradeoffs. Don't ask obvious questions, dig into the hard parts I might not have considered.\n\nKeep interviewing until we've covered everything, then write a complete spec to SPEC.md.\n```\n\nOnce the spec is complete, start a fresh session to execute it. The new session has clean context focused entirely on implementation, and you have a written spec to reference.\n\n***\n\n## Manage your session\n\nConversations are persistent and reversible. Use this to your advantage!\n\n### Course-correct early and often\n\n<Tip>\n  Correct Claude as soon as you notice it going off track.\n</Tip>\n\nThe best results come from tight feedback loops. Though Claude occasionally solves problems perfectly on the first attempt, correcting it quickly generally produces better solutions faster.\n\n* **`Esc`**: Stop Claude mid-action with the `Esc` key. Context is preserved, so you can redirect.\n* **`Esc + Esc` or `/rewind`**: Press `Esc` twice or run `/rewind` to open the rewind menu and restore previous conversation and code state.\n* **`\"Undo that\"`**: Have Claude revert its changes.\n* **`/clear`**: Reset context between unrelated tasks. Long sessions with irrelevant context can reduce performance.\n\nIf you've corrected Claude more than twice on the same issue in one session, the context is cluttered with failed approaches. Run `/clear` and start fresh with a more specific prompt that incorporates what you learned. A clean session with a better prompt almost always outperforms a long session with accumulated corrections.\n\n### Manage context aggressively\n\n<Tip>\n  Run `/clear` between unrelated tasks to reset context.\n</Tip>\n\nClaude Code automatically compacts conversation history when you approach context limits, which preserves important code and decisions while freeing space.\n\nDuring long sessions, Claude's context window can fill with irrelevant conversation, file contents, and commands. This can reduce performance and sometimes distract Claude.\n\n* Use `/clear` frequently between tasks to reset the context window entirely\n* When auto compaction triggers, Claude summarizes what matters most, including code patterns, file states, and key decisions\n* For more control, run `/compact <instructions>`, like `/compact Focus on the API changes`\n* Customize compaction behavior in CLAUDE.md with instructions like `\"When compacting, always preserve the full list of modified files and any test commands\"` to ensure critical context survives summarization\n\n### Use subagents for investigation\n\n<Tip>\n  Delegate research with `\"use subagents to investigate X\"`. They explore in a separate context, keeping your main conversation clean for implementation.\n</Tip>\n\nSince context is your fundamental constraint, subagents are one of the most powerful tools available. When Claude researches a codebase it reads lots of files, all of which consume your context. Subagents run in separate context windows and report back summaries:\n\n```\nUse subagents to investigate how our authentication system handles token\nrefresh, and whether we have any existing OAuth utilities I should reuse.\n```\n\nThe subagent explores the codebase, reads relevant files, and reports back with findings, all without cluttering your main conversation.\n\nYou can also use subagents for verification after Claude implements something:\n\n```\nuse a subagent to review this code for edge cases\n```\n\n### Rewind with checkpoints\n\n<Tip>\n  Every action Claude makes creates a checkpoint. You can restore conversation, code, or both to any previous checkpoint.\n</Tip>\n\nClaude automatically checkpoints before changes. Double-tap `Escape` or run `/rewind` to open the checkpoint menu. You can restore conversation only (keep code changes), restore code only (keep conversation), or restore both.\n\nInstead of carefully planning every move, you can tell Claude to try something risky. If it doesn't work, rewind and try a different approach. Checkpoints persist across sessions, so you can close your terminal and still rewind later.\n\n<Warning>\n  Checkpoints only track changes made *by Claude*, not external processes. This isn't a replacement for git.\n</Warning>\n\n### Resume conversations\n\n<Tip>\n  Run `claude --continue` to pick up where you left off, or `--resume` to choose from recent sessions.\n</Tip>\n\nClaude Code saves conversations locally. When a task spans multiple sessions (you start a feature, get interrupted, come back the next day) you don't have to re-explain the context:\n\n```bash  theme={null}\nclaude --continue    # Resume the most recent conversation\nclaude --resume      # Select from recent conversations\n```\n\nUse `/rename` to give sessions descriptive names (`\"oauth-migration\"`, `\"debugging-memory-leak\"`) so you can find them later. Treat sessions like branches. Different workstreams can have separate, persistent contexts.\n\n***\n\n## Automate and scale\n\nOnce you're effective with one Claude, multiply your output with parallel sessions, headless mode, and fan-out patterns.\n\nEverything so far assumes one human, one Claude, and one conversation. But Claude Code scales horizontally. The techniques in this section show how you can get more done.\n\n### Run headless mode\n\n<Tip>\n  Use `claude -p \"prompt\"` in CI, pre-commit hooks, or scripts. Add `--output-format stream-json` for streaming JSON output.\n</Tip>\n\nWith `claude -p \"your prompt\"`, you can run Claude headlessly, without an interactive session. Headless mode is how you integrate Claude into CI pipelines, pre-commit hooks, or any automated workflow. The output formats (plain text, JSON, streaming JSON) let you parse results programmatically.\n\n```bash  theme={null}\n# One-off queries\nclaude -p \"Explain what this project does\"\n\n# Structured output for scripts\nclaude -p \"List all API endpoints\" --output-format json\n\n# Streaming for real-time processing\nclaude -p \"Analyze this log file\" --output-format stream-json\n```\n\n### Run multiple Claude sessions\n\n<Tip>\n  Run multiple Claude sessions in parallel to speed up development, run isolated experiments, or start complex workflows.\n</Tip>\n\nThere are two main ways to run parallel sessions:\n\n* [Claude Desktop](/en/desktop): Manage multiple local sessions visually. Each session gets its own isolated worktree.\n* [Claude Code on the web](/en/claude-code-on-the-web): Run on Anthropic's secure cloud infrastructure in isolated VMs.\n\nBeyond parallelizing work, multiple sessions enable quality-focused workflows. A fresh context improves code review since Claude won't be biased toward code it just wrote.\n\nFor example, use a Writer/Reviewer pattern:\n\n| Session A (Writer)                                                      | Session B (Reviewer)                                                                                                                                                     |\n| ----------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| `Implement a rate limiter for our API endpoints`                        |                                                                                                                                                                          |\n|                                                                         | `Review the rate limiter implementation in @src/middleware/rateLimiter.ts. Look for edge cases, race conditions, and consistency with our existing middleware patterns.` |\n| `Here's the review feedback: [Session B output]. Address these issues.` |                                                                                                                                                                          |\n\nYou can do something similar with tests: have one Claude write tests, then another write code to pass them.\n\n### Fan out across files\n\n<Tip>\n  Loop through tasks calling `claude -p` for each. Use `--allowedTools` to scope permissions for batch operations.\n</Tip>\n\nFor large migrations or analyses, you can distribute work across many parallel Claude invocations:\n\n<Steps>\n  <Step title=\"Generate a task list\">\n    Have Claude list all files that need migrating (e.g., `list all 2,000 Python files that need migrating`)\n  </Step>\n\n  <Step title=\"Write a script to loop through the list\">\n    ```bash  theme={null}\n    for file in $(cat files.txt); do\n      claude -p \"Migrate $file from React to Vue. Return OK or FAIL.\" \\\n        --allowedTools \"Edit,Bash(git commit *)\"\n    done\n    ```\n  </Step>\n\n  <Step title=\"Test on a few files, then run at scale\">\n    Refine your prompt based on what goes wrong with the first 2-3 files, then run on the full set. The `--allowedTools` flag restricts what Claude can do, which matters when you're running unattended.\n  </Step>\n</Steps>\n\nYou can also integrate Claude into existing data/processing pipelines:\n\n```bash  theme={null}\nclaude -p \"<your prompt>\" --output-format json | your_command\n```\n\nUse `--verbose` for debugging during development, and turn it off in production.\n\n### Safe Autonomous Mode\n\nUse `claude --dangerously-skip-permissions` to bypass all permission checks and let Claude work uninterrupted. This works well for workflows like fixing lint errors or generating boilerplate code.\n\n<Warning>\n  Letting Claude run arbitrary commands is risky and can result in data loss, system corruption, or data exfiltration (e.g., via prompt injection attacks). To minimize these risks, use `--dangerously-skip-permissions` in a container without internet access.\n\n  With sandboxing enabled (`/sandbox`), you get similar autonomy with better security. Sandbox defines upfront boundaries rather than bypassing all checks.\n</Warning>\n\n***\n\n## Avoid common failure patterns\n\nThese are common mistakes. Recognizing them early saves time:\n\n* **The kitchen sink session.** You start with one task, then ask Claude something unrelated, then go back to the first task. Context is full of irrelevant information.\n  > **Fix**: `/clear` between unrelated tasks.\n* **Correcting over and over.** Claude does something wrong, you correct it, it's still wrong, you correct again. Context is polluted with failed approaches.\n  > **Fix**: After two failed corrections, `/clear` and write a better initial prompt incorporating what you learned.\n* **The over-specified CLAUDE.md.** If your CLAUDE.md is too long, Claude ignores half of it because important rules get lost in the noise.\n  > **Fix**: Ruthlessly prune. If Claude already does something correctly without the instruction, delete it or convert it to a hook.\n* **The trust-then-verify gap.** Claude produces a plausible-looking implementation that doesn't handle edge cases.\n  > **Fix**: Always provide verification (tests, scripts, screenshots). If you can't verify it, don't ship it.\n* **The infinite exploration.** You ask Claude to \"investigate\" something without scoping it. Claude reads hundreds of files, filling the context.\n  > **Fix**: Scope investigations narrowly or use subagents so the exploration doesn't consume your main context.\n\n***\n\n## Develop your intuition\n\nThe patterns in this guide aren't set in stone. They're starting points that work well in general, but might not be optimal for every situation.\n\nSometimes you *should* let context accumulate because you're deep in one complex problem and the history is valuable. Sometimes you should skip planning and let Claude figure it out because the task is exploratory. Sometimes a vague prompt is exactly right because you want to see how Claude interprets the problem before constraining it.\n\nPay attention to what works. When Claude produces great output, notice what you did: the prompt structure, the context you provided, the mode you were in. When Claude struggles, ask why. Was the context too noisy? The prompt too vague? The task too big for one pass?\n\nOver time, you'll develop intuition that no guide can capture. You'll know when to be specific and when to be open-ended, when to plan and when to explore, when to clear context and when to let it accumulate.\n\n## Related resources\n\n<CardGroup cols={2}>\n  <Card title=\"How Claude Code works\" icon=\"gear\" href=\"/en/how-claude-code-works\">\n    Understand the agentic loop, tools, and context management\n  </Card>\n\n  <Card title=\"Extend Claude Code\" icon=\"puzzle-piece\" href=\"/en/features-overview\">\n    Choose between skills, hooks, MCP, subagents, and plugins\n  </Card>\n\n  <Card title=\"Common workflows\" icon=\"list-check\" href=\"/en/common-workflows\">\n    Step-by-step recipes for debugging, testing, PRs, and more\n  </Card>\n\n  <Card title=\"CLAUDE.md\" icon=\"file-lines\" href=\"/en/memory\">\n    Store project conventions and persistent context\n  </Card>\n</CardGroup>\n"}]},"uuid":"49203583-7711-49cf-89a6-ca765b6a9d89","timestamp":"2026-01-27T20:12:30.479Z","sourceToolAssistantUUID":"9ce0d821-bdd8-4fa5-9c6e-46c0c69b766f"}
{"parentUuid":"1bc5a510-5eec-482a-b9db-d0dfef6a2500","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Cp8R8DipspZGyL1cvHKYX5","type":"tool_result","content":"# Claude Code Settings - Key Configuration Guide\n\n## Configuration Scopes\n\nClaude Code uses a 4-level scope system with this precedence (highest to lowest):\n\n1. **Managed** - System-level, IT-deployed, organization-wide\n2. **Local** - Personal project overrides (`.claude/*.local.*`)\n3. **Project** - Team-shared (`.claude/` in repo, committed to git)\n4. **User** - Personal global (`~/.claude/`)\n\n### File Locations\n\n| Feature | User | Project | Local | Managed |\n|---------|------|---------|-------|---------|\n| **Settings** | `~/.claude/settings.json` | `.claude/settings.json` | `.claude/settings.local.json` | System path |\n| **MCP servers** | `~/.claude.json` | `.mcp.json` | Per-project | — |\n| **CLAUDE.md** | `~/.claude/CLAUDE.md` | `CLAUDE.md` or `.claude/CLAUDE.md` | `CLAUDE.local.md` | — |\n\n## Permission System\n\n### Basic Permission Structure\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\"Bash(npm run *)\", \"Read(~/.zshrc)\"],\n    \"ask\": [\"Bash(git push *)\"],\n    \"deny\": [\"Bash(curl *)\", \"Read(./.env)\", \"Read(./secrets/**)\", \"WebFetch\"]\n  }\n}\n```\n\n### Rule Evaluation Order\n1. **Deny** (highest priority)\n2. **Ask** \n3. **Allow** (lowest priority)\n\n### Wildcard Patterns\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(npm run *)\",        // matches: npm run build, npm run test\n      \"Bash(git * main)\",       // matches: git push main, git pull main\n      \"Bash(* --version)\",      // matches: node --version, npm --version\n      \"Read(./src/**)\"          // recursive directory matching\n    ]\n  }\n}\n```\n\n**Important**: Space before `*` matters: `Bash(ls *)` matches `ls -la` but not `lsof`.\n\n### Permission Modes\n\nSet default permission mode via `defaultMode`:\n\n```json\n{\n  \"permissions\": {\n    \"defaultMode\": \"acceptEdits\"  // or \"askPerTool\"\n  }\n}\n```\n\n## Tool Permissions\n\n### WebFetch Configuration\n\nControl which domains Claude can access:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\"WebFetch(domain:github.com)\", \"WebFetch(domain:api.example.com)\"],\n    \"deny\": [\"WebFetch(domain:internal-only.local)\"]\n  }\n}\n```\n\n### WebSearch\n\nControlled via permission rules:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\"WebSearch\"],\n    \"deny\": [\"WebSearch\"]  // to disable\n  }\n}\n```\n\n## Security Configuration\n\n### Exclude Sensitive Files\n\n```json\n{\n  \"permissions\": {\n    \"deny\": [\n      \"Read(./.env)\",\n      \"Read(./.env.*)\",\n      \"Read(./secrets/**)\",\n      \"Read(./config/credentials.json)\",\n      \"Read(~/.aws/**)\"\n    ]\n  }\n}\n```\n\n### Additional Working Directories\n\n```json\n{\n  \"permissions\": {\n    \"additionalDirectories\": [\"../docs/\", \"/shared/resources/\"]\n  }\n}\n```\n\n## Common Settings Examples\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(npm run lint)\",\n      \"Bash(npm run test *)\",\n      \"Bash(git commit *)\",\n      \"Read(~/.zshrc)\"\n    ],\n    \"deny\": [\n      \"Bash(curl *)\",\n      \"Read(./.env)\",\n      \"Read(./.env.*)\"\n    ]\n  },\n  \"env\": {\n    \"CLAUDE_CODE_ENABLE_TELEMETRY\": \"1\"\n  },\n  \"model\": \"claude-sonnet-4-5-20250929\",\n  \"respectGitignore\": true,\n  \"language\": \"english\"\n}\n```\n\n## Apply Configuration\n\n1. **User settings**: Edit `~/.claude/settings.json`\n2. **Project settings**: Edit `.claude/settings.json` in repo\n3. **Local overrides**: Edit `.claude/settings.local.json` (gitignored)\n4. **Interactive**: Run `/config` command in Claude Code REPL\n\nMore specific scopes override broader ones when the same setting is configured at multiple levels."}]},"uuid":"aa9efa7d-cb66-4e4d-9085-f8d960de0e1e","timestamp":"2026-01-27T20:12:40.992Z","sourceToolAssistantUUID":"1bc5a510-5eec-482a-b9db-d0dfef6a2500"}
{"parentUuid":"aa9efa7d-cb66-4e4d-9085-f8d960de0e1e","isSidechain":true,"userType":"external","cwd":"/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA","sessionId":"55bd04f0-af7e-4046-aedb-996202b1ff0d","version":"2.1.20","gitBranch":"main","agentId":"a86ba85","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01SRXaiPHMes3S4sz6aLCX5t","type":"message","role":"assistant","content":[{"type":"text","text":"Parfait. Je vais te montrer les différentes méthodes pour configurer les permissions permanentes pour WebSearch et WebFetch dans Claude Code.\n\n## Configurer les permissions permanentes pour WebSearch et WebFetch\n\nIl existe plusieurs approches, du plus simple au plus granulaire :\n\n### 1. Autoriser WebSearch globalement (niveau utilisateur)\n\nModifie ton fichier `~/.claude/settings.json`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\"WebSearch\", \"WebFetch\"]\n  }\n}\n```\n\nCela autorise Claude Code à utiliser WebSearch et WebFetch sans demander de confirmation à chaque fois.\n\n### 2. Restreindre WebFetch par domaine (plus sécurisé)\n\nSi tu veux autoriser WebFetch uniquement pour certains domaines, utilise le specifier `domain:`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"WebSearch\",\n      \"WebFetch(domain:github.com)\",\n      \"WebFetch(domain:api.example.com)\",\n      \"WebFetch(domain:www.linkedin.com)\"\n    ]\n  }\n}\n```\n\nDans ta configuration actuelle, tu as déjà des règles WebFetch partielles:\n\n```json\n\"allow\": [\n  \"WebFetch(domain:github.com)\",\n  \"WebFetch(domain:ivesta-fo.com)\",\n  \"WebFetch(domain:www.linkedin.com)\",\n  \"WebFetch(domain:www.auditia.fr)\"\n]\n```\n\n**Pour ajouter WebSearch**, il suffit d'ajouter `\"WebSearch\"` à la liste `allow`.\n\n### 3. Configuration au niveau projet (dans `.claude/settings.json`)\n\nSi tu veux appliquer ces permissions uniquement à un projet spécifique, crée ou modifie `.claude/settings.json` dans la racine du projet:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"WebSearch\",\n      \"WebFetch(domain:github.com)\",\n      \"WebFetch(domain:your-domain.com)\"\n    ]\n  }\n}\n```\n\n### 4. Configuration locale (surcharge temporaire)\n\nPour des surcharges personnelles sans committer à Git, utilise `.claude/settings.local.json`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\"WebSearch\", \"WebFetch\"]\n  }\n}\n```\n\nCe fichier doit être dans `.gitignore`.\n\n---\n\n## Vérifier et gérer tes permissions\n\nTu peux consulter et modifier tes permissions directement dans Claude Code en exécutant:\n\n```bash\n/permissions\n```\n\nCela affiche une interface interactive qui liste:\n- Les règles `allow` actuelles\n- Les règles `ask` actuelles\n- Les règles `deny` actuelles\n- La source de chaque règle (settings.json, settings.local.json, etc.)\n\n---\n\n## Ordre de précédence (quand plusieurs settings existent)\n\nVoici l'ordre d'application (plus haute précédence en haut):\n\n1. **Managed settings** (`managed-settings.json`) — IT/organisation\n2. **Arguments CLI** — `--allowedTools`\n3. **Local project** (`.claude/settings.local.json`)\n4. **Shared project** (`.claude/settings.json`)\n5. **User** (`~/.claude/settings.json`)\n\n---\n\n## Recommandation pour ton cas\n\nPuisque tu as déjà configuré WebFetch avec des domaines spécifiques dans ta `settings.json`, il te suffit d'ajouter `\"WebSearch\"` à la liste `allow`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"WebSearch\",\n      \"WebFetch(domain:github.com)\",\n      \"WebFetch(domain:ivesta-fo.com)\",\n      \"WebFetch(domain:www.linkedin.com)\",\n      \"WebFetch(domain:www.auditia.fr)\"\n    ]\n  }\n}\n```\n\nCela donnera à Claude Code l'accès permanent à WebSearch, tout en maintenant les restrictions de domaine pour WebFetch.\n\n**Localisation du fichier à modifier:**\n`/Users/yvanwibaux/Library/CloudStorage/GoogleDrive-yvan.wibaux@gmail.com/Mon Drive/TADA/.claude/settings.json`\n\n(ou `~/.claude/settings.json` pour une configuration au niveau utilisateur)"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11258,"cache_creation_input_tokens":1419,"cache_read_input_tokens":22324,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1419},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXYVZVW8e7fs2odXKLueN","type":"assistant","uuid":"7a8e6520-bd54-43db-8b55-3153ccfebb48","timestamp":"2026-01-27T20:12:50.987Z"}
